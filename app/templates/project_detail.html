{% extends "base.html" %}

{% block title %} {{ project.title }} | OpenBuild {% endblock %}

{% block css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/project_detail.css') }}" />
{% endblock %}

{% block content %}
<div class="project-view-container">
    <header class="project-header">
        <div class="title-area">
            <h1>{{ project.title }}</h1>
            <span class="status-badge {{ project.status|lower }}">{{ project.status.replace('_', ' ') }}</span>
        </div>
        <p class="meta-info">Created on {{ project.created_at.strftime('%B %d, %Y') }}</p>
    </header>

    <div class="project-grid-layout">
        <main class="project-main">
            <section class="card">
                <h3>About the Project</h3>
                <p>{{ project.description }}</p>
            </section>

            <section class="card timeline-section">
                <div class="section-header">
                    <h3>Build Log / Timeline</h3>
                    <a href="#" class="btn-sm">+ New Update</a>
                </div>
                <div class="empty-timeline">
                    <p>No updates yet. Start sharing your progress!</p>
                </div>
            </section>
        </main>

        <aside class="project-sidebar">
            <div class="card">
                <h4>Details</h4>
                <div class="detail-item">
                    <label>Tech Stack</label>
                    <div class="tags">
                        {% if project.tech_stack %}
                            {% for tech in project.tech_stack.split(',') %}
                                <span class="tag">{{ tech.strip() }}</span>
                            {% endfor %}
                        {% else %}
                            <span class="muted">No stack specified</span>
                        {% endif %}
                    </div>
                </div>

                {% if project.repo_url %}
                <div class="detail-item">
                    <label>Links</label>
                    <a href="{{ project.repo_url }}" target="_blank" class="external-link">GitHub Repository â†—</a>
                </div>
                {% endif %}
            </div>

            <div class="card actions-card">
                <h4>Management</h4>
                <a href="{{ url_for('project.project_edit', id=project.id) }}" class="btn-edit">Edit Project</a>
                <form action="{{ url_for('project.project_delete', id=project.id) }}" method="POST" style="margin-top: 10px;">
                    <button type="submit" class="btn-delete" onclick="return confirm('Are you sure?')">Delete Project</button>
                </form>
            </div>
        </aside>
    </div>
</div>
{% endblock %}